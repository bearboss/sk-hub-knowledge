title: Linux的使用

date: 2023-03-14 15:20:36

tags: Linux

categories: Linux

copyright: true

sticky: 0

---

<span id="delete">

![](/images/banner/1.jpg)

</span>

<!--more-->

# IDEA无法输入中文

```
ctrl+shift+E 即可正常输入中文
```



# 测试磁盘

```
dd if=/dev/zero of=tempfile bs=1M count=1024 conv=fdatasync
 
 
vi w.sh
#!/bin/bash

mktemp = /root/test

# 创建一个临时文件用于测试
tempfile=$(mktemp)

# 测试写速度
echo "开始写速度测试..."
dd if=/dev/zero of=$tempfile bs=1M count=1024 conv=fdatasync,notrunc status=progress

# 清除缓存以确保测试读速度时不会受到影响
echo "清除缓存..."
sudo /sbin/sysctl -w vm.drop_caches=3

# 测试读速度
echo "开始读速度测试..."
dd if=$tempfile of=/dev/null bs=1M count=1024 status=progress

# 删除临时文件
rm $tempfile

```



# curl 使用

```
curl 的选项以一或两个破折号开头，即 - 或 --，许多选项后面都需要附加值。

-d, --data <data>
	主要是针对 http 协议的 post 请求指定要在消息体中发送的数据。
-i, --include
	显示包含 http 消息头返回的信息输出。
-I, --header
	只获取 http 协议的消息头信息，若是作用在 FTP 协议时，只获取文件大小和最后一次修改时间信息。
-H, --header <header>
	主要是针对 http 协议的消息头进行设置，常用的有 -H "Content-Type:application/json"。
-o, --output <file>
	将服务器的响应保存成文件，等同于 wget 命令。
-X, --request <command>
	指定 http 协议的请求方式，默认为 GET 请求。
```



```
curl -X POST -H "Content-Type:application/json" -d '{"msg_type":"text","content":{"text":"新更新提醒"}}' https://xxxx.xxxxx.xxx/notify

curl -X GET -o result.txt http://www.baidu.com

curl --location --request POST http://maxkey.10.51.34.209.nip.io/sign/deploy/read --form file=@"C:\\Users\\MX\\Desktop\\139_测试部署脚本.zip" --form user="admin"


```

# 时间同步

```
	yum install chrony -y
	systemctl start chronyd
	systemctl enable chronyd
	chronyc sources
	
	yum -y install ntpdate
	
	crontab -e[ sudo apt-get install -y cron ]
	*/5 * * * * /usr/sbin/ntpdate ntp1.aliyun.com

```
# 修改静态网络
```
#ubuntu

sudo apt install iputils-ping

vim /etc/netplan/00-installer-config.yaml
    network:
      ethernets:
        eth0:
          addresses: [192.168.137.101/24]
          gateway4: 192.168.137.1
          nameservers: #DNS
            addresses: [192.168.137.1,114.114.114.114]
          dhcp4: no
      version: 2

netplan apply 重启
  
#centos
vi /etc/sysconfig/network-scripts/ifcfg-eth0
    TYPE=Ethernet
    PROXY_METHOD=none
    BROWSER_ONLY=no
    BOOTPROTO=none
    DEFROUTE=yes
    IPV4_FAILURE_FATAL=yes
    IPV6INIT=yes
    IPV6_AUTOCONF=yes
    IPV6_DEFROUTE=yes
    IPV6_FAILURE_FATAL=no
    IPV6_ADDR_GEN_MODE=stable-privacy
    NAME=eth0
    UUID=a5eabe68-2ba5-41f8-b346-a576f14216b8
    DEVICE=eth0
    ONBOOT=yes
    BOOTPROTO=static
    IPADDR=192.168.137.103
    NETMASK=255.255.255.0
    GATEWAY=192.168.137.1
    DNS1=192.168.137.1
    DNS2=114.114.114.114
    IPV6_PRIVACY=no    
service network restart
```

# centos9 修改IP

```
cd /etc/NetworkManager/system-connections
vi ens160.nmconnection
  [ipv4]
  # 自动配置
  #method=auto
  # 改为手动配置
  method=manual
  # 地址=静态IP/子网掩码，网关
  address=192.168.20.128/24,192.168.20.2
  # dns地址
  dns=114.114.114.114,8.8.8.8

  [ipv6]
  addr-gen-mode=eui64
  method=auto

  [proxy]

#重启
systemctl restart NetworkManager.service

#查看
ip addr show
ping www.baidu.com


systemctl stop firewalld
systemctl disable firewalld
```



# ubuntu开启root登录

```
vim /etc/ssh/sshd_config
在 sshd_config 文件里的 “Authentication” 部分加上以下内容
PermitRootLogin yes
# 完成以后退出 vim 并保存
service sshd restart # 重启 ssh 服务以应用更改
```

# 免密登录
```
ssh-keygen

ssh-copy-id -i .ssh/id_rsa.pub root@192.168.137.102

```

# hyper-v开启固定IP

* 电脑重启.需要重新将电脑的物理网卡共享解绑再绑定一下NAT.不然虚拟机访问baidu会无响应

```
*ubuntu 关防火墙
sudo ufw disable
* centos关防火墙
systemctl stop firewalld.service
systemctl stop firewalld
systemctl disable firewalld
- 关闭 SeLinux
setenforce 0
sed -i "s/SELINUX=enforcing/SELINUX=disabled/g" /etc/selinux/config
- 关闭 swap
swapoff -a
yes | cp /etc/fstab /etc/fstab_bak
cat /etc/fstab_bak |grep -v swap > /etc/fstab

vi /etc/fstab
注释 #/dev/mapper/centos-home /home                   xfs     defaults        0 0
free -m 

```
![](/images/java/ip1.png)
![](/images/java/ip2.png)
![](/images/java/ip3.png)

# 禁用有新邮件
```
echo "unset MAILCHECK" >> /etc/profile
source /etc/profile
```

# 查找文件
```
$ uname -r 查看linux版本号
find . -type f -size +100M 查找大文件
```

# MobaXterm ctrl+c禁止
```
Session  -> Advanced SSH settings -> Excute Commend

stty intr undef;sudo -i

stty intr undef 这个命令会终止ctrl+c的操作

```

# 卸载桌面

```
yum list installed |grep -Pi '(gnome)'

yum -y remove gnome-desktop3.x86_64

reboot
```



# 安装go

```
https://golang.google.cn/dl/

wget https://golang.google.cn/dl/go1.21.4.linux-amd64.tar.gz

tar -C /usr/local -zxvf  go1.21.4.linux-amd64.tar.gz

vi /etc/profile
export GOROOT=/usr/local/go
export GOPATH=/root/
export PATH=$PATH:$GOPATH/bin


source /etc/profile

go version
```





